// Automatically generated by xdrgen
// DO NOT EDIT or your changes may be overwritten

package com.soneso.stellar.sdk.xdr

/**
 * XDR Source:
 * struct TransactionV0Envelope
 * {
 *     TransactionV0 tx;
 *     /* Each decorated signature is a signature over the SHA256 hash of
 *      * a TransactionSignaturePayload */
 *     DecoratedSignature signatures<20>;
 * };
 */
data class TransactionV0EnvelopeXdr(
  val tx: TransactionV0Xdr,
  val signatures: List<DecoratedSignatureXdr>
) {
  companion object {

    fun decode(reader: XdrReader): TransactionV0EnvelopeXdr {
      val tx = TransactionV0Xdr.decode(reader)
      val signatures = List(reader.readInt()) { DecoratedSignatureXdr.decode(reader) }
      return TransactionV0EnvelopeXdr(tx, signatures)
    }
  }

  fun encode(writer: XdrWriter) {
    tx.encode(writer)
    writer.writeInt(signatures.size)
    signatures.forEach { item ->
      item.encode(writer)
    }
  }
}
